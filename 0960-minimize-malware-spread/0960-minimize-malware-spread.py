class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:

        adj = defaultdict(list)
        row,col = len(graph) , len(graph[0])
        for i in range(row):
            for j in range(col):
                if graph[i][j] == 1 and i != j:
                    adj[i].append(j)
        
        initial.sort()
        color = defaultdict(int)

        def dfs(v , c):
            if v in color:
                return 
            color[v] = c
            for i in adj[v]:
                dfs(i , c)

        for i in initial:
            if i not in color:
                dfs(i , i)

        cntcolor = defaultdict(int)
        val = Counter(color.values())
        for i in initial:
            cntcolor[color[i]] += 1

        maxx = -1
        index = -1

        for i in initial:
            if cntcolor[color[i]] == 1:
                if maxx < val[color[i]]:
                    maxx = val[color[i]]
                    index = i
            else:
                if index == -1:
                    index = i
        return index



        